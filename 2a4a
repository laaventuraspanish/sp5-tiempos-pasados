<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narración en Pasado: Mapa Interactivo</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Use Inter font family */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for active states and timeline */
        .tense-button.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        /* Timeline specific styles */
        .timeline {
            position: relative;
            height: 40px;
            background-color: #e5e7eb; /* gray-200 */
            border-radius: 9999px;
            overflow: hidden;
        }
        .timeline-base {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background-color: #9ca3af; /* gray-400 */
            transform: translateY(-50%);
        }
        .timeline-label {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: #4b5563; /* gray-700 */
            color: white;
            padding: 2px 10px;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
        }
        .timeline-marker {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #9ca3af; /* gray-400 */
            transition: all 0.3s ease;
            opacity: 0.5;
        }
        .timeline-wave {
            position: absolute;
            top: 50%;
            left: 30%;
            width: 30%;
            height: 10px;
            transform: translateY(-50%);
            background-image: linear-gradient(90deg, transparent 50%, #9ca3af 50%), linear-gradient(90deg, transparent 50%, #9ca3af 50%);
            background-size: 20px 4px;
            background-repeat: repeat-x;
            background-position: 0 50%, 10px 50%;
            opacity: 0.5;
            transition: all 0.3s ease;
        }
        .timeline-bracket {
            position: absolute;
            top: 50%;
            right: 6%; /* Near "AHORA" */
            width: 20%;
            height: 20px;
            transform: translateY(-50%);
            border: 3px solid #9ca3af; /* gray-400 */
            border-left: none;
            border-radius: 0 10px 10px 0;
            opacity: 0.5;
            transition: all 0.3s ease;
        }
        
        /* Active timeline states */
        #timeline-simple.active {
            background-color: #ef4444; /* red-500 */
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.2);
        }
        #timeline-imperfecto.active {
            background-image: linear-gradient(90deg, transparent 50%, #3b82f6 50%), linear-gradient(90deg, transparent 50%, #3b82f6 50%);
            opacity: 1;
        }
        #timeline-compuesto.active {
            border-color: #10b981; /* emerald-500 */
            opacity: 1;
        }
        #timeline-pluscuam.active {
            background-color: #8b5cf6; /* violet-500 */
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.2);
        }

        /* Color-coded active buttons */
        #btn-simple.active { border-color: #ef4444; background-color: #fef2f2; }
        #btn-imperfecto.active { border-color: #3b82f6; background-color: #eff6ff; }
        #btn-compuesto.active { border-color: #10b981; background-color: #ecfdf5; }
        #btn-pluscuam.active { border-color: #8b5cf6; background-color: #f5f3ff; }
        
        /* Color-coded content cards */
        .content-card {
            border-width: 2px;
            display: none; /* Hidden by default */
        }
        .content-card.active {
            display: block; /* Shown when active */
        }
        #content-simple { border-color: #ef4444; }
        #content-imperfecto { border-color: #3b82f6; }
        #content-compuesto { border-color: #10b981; }
        #content-pluscuam { border-color: #8b5cf6; }

    </style>
</head>
<body class="bg-stone-100 min-h-screen p-4 md:p-8">

    <div class="max-w-5xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
        <!-- Header -->
        <header class="p-6 bg-gray-800 text-white">
            <h1 class="text-2xl md:text-3xl font-bold text-center">Narración en Pasado: Mapa Interactivo</h1>
            <p class="text-center text-gray-300 mt-1">Haz clic en un tiempo verbal para ver los detalles.</p>
        </header>

        <!-- Interactive Timeline Visualization -->
        <section class="p-6 md:p-10 border-b">
            <h2 class="text-lg font-semibold text-gray-700 mb-4 text-center">Mapa Conceptual del Tiempo</h2>
            <div class="timeline">
                <div class="timeline-base"></div>
                <!-- Pluperfect (X1) -->
                <div id="timeline-pluscuam" class="timeline-marker" style="left: 20%;"></div>
                <!-- Preterite (X2) -->
                <div id="timeline-simple" class="timeline-marker" style="left: 65%;"></div>
                <!-- Imperfect (Wavy line) -->
                <div id="timeline-imperfecto" class="timeline-wave"></div>
                <!-- Present Perfect (Bracket) -->
                <div id="timeline-compuesto" class="timeline-bracket"></div>
                
                <!-- Labels -->
                <span class="timeline-label" style="left: 2%;">PASADO LEJANO</span>
                <span class="timeline-label" style="right: 2%; background-color: #1d4ed8;">AHORA</span>
            </div>
        </section>

        <!-- Main Content -->
        <main class="p-4 md:p-8">
            <!-- Tense Selector Buttons -->
            <nav class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6">
                <button id="btn-simple" class="tense-button p-4 rounded-lg shadow-md border-2 border-transparent bg-white transition-all duration-300" onclick="showTense('simple')">
                    <span class="block text-lg font-semibold text-red-600">Pretérito Perfecto Simple</span>
                    <span class="block text-sm text-gray-500">(I did)</span>
                </button>
                <button id="btn-imperfecto" class="tense-button p-4 rounded-lg shadow-md border-2 border-transparent bg-white transition-all duration-300" onclick="showTense('imperfecto')">
                    <span class="block text-lg font-semibold text-blue-600">Pretérito Imperfecto</span>
                    <span class="block text-sm text-gray-500">(I used to do / was -ing)</span>
                </button>
                <button id="btn-compuesto" class="tense-button p-4 rounded-lg shadow-md border-2 border-transparent bg-white transition-all duration-300" onclick="showTense('compuesto')">
                    <span class="block text-lg font-semibold text-emerald-600">Pretérito Perfecto Compuesto</span>
                    <span class="block text-sm text-gray-500">(I have done)</span>
                </button>
                <button id="btn-pluscuam" class="tense-button p-4 rounded-lg shadow-md border-2 border-transparent bg-white transition-all duration-300" onclick="showTense('pluscuam')">
                    <span class="block text-lg font-semibold text-violet-600">Pretérito Pluscuamperfecto</span>
                    <span class="block text-sm text-gray-500">(I had done)</span>
                </button>
            </nav>

            <!-- Content Display Area -->
            <div id="content-area" class="mt-6">
                <!-- Content cards will be injected here by JavaScript -->
                <div id="content-simple" class="content-card p-6 rounded-lg bg-white"></div>
                <div id="content-imperfecto" class="content-card p-6 rounded-lg bg-white"></div>
                <div id="content-compuesto" class="content-card p-6 rounded-lg bg-white"></div>
                <div id="content-pluscuam" class="content-card p-6 rounded-lg bg-white"></div>
            </div>
        </main>
    </div>

    <script>
        // Store all data in an object for easy access
        const tenseData = {
            simple: {
                title: "Pretérito Perfecto Simple (The 'Done' Tense)",
                colorClass: "text-red-600",
                timelineId: "timeline-simple",
                content: `
                    <div class="md:grid md:grid-cols-2 md:gap-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">La Idea Clave: Acción Única y Terminada</h3>
                            <p class="mb-4">Se usa para hablar de situaciones ocurridas en el pasado que se presentan como <strong>terminadas</strong>. Es el <strong>marcador rojo (•)</strong> en la línea de tiempo.</p>
                            <h4 class="font-semibold text-gray-700">Usos Principales:</h4>
                            <ul class="list-disc list-inside space-y-1 mt-2 mb-4">
                                <li>Construir el relato y hacer avanzar la historia.</li>
                                <li>Hacer una valoración de un evento pasado.</li>
                                <li>Indicar el inicio o fin de una acción.</li>
                            </ul>
                            <h4 class="font-semibold text-gray-700">Ejemplos:</h4>
                            <ul class="list-none space-y-2 mt-2">
                                <li class="italic">"Mi maestra Ángela <strong class="text-red-600">marcó</strong> mi vida."</li>
                                <li class="italic">"El mes pasado <strong class="text-red-600">visité</strong> el pueblo de mis abuelos."</li>
                                <li class="italic">"Malena <strong class="text-red-600">acabó</strong> sus estudios, <strong class="text-red-600">se trasladó</strong> a Uruguay y <strong class="text-red-600">empezó</strong> a trabajar."</li>
                            </ul>
                        </div>
                        <div class="space-y-6 mt-6 md:mt-0">
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700">Marcadores de Tiempo (Trigger Words):</h4>
                                <ul class="list-disc list-inside space-y-1 mt-2 text-sm">
                                    <li>ayer, anoche</li>
                                    <li>el mes / año / verano pasado</li>
                                    <li>la semana pasada</li>
                                    <li>el otro día</li>
                                    <li>en ese momento</li>
                                    <li>de pronto, de repente</li>
                                    <li>finalmente</li>
                                    <li>en 1998, el 14 de enero...</li>
                                </ul>
                            </div>
                            <div class="bg-red-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700 mb-2">Guía de Conjugación</h4>
                                <p class="text-sm mb-2"><strong>Regulares:</strong></p>
                                <div class="grid grid-cols-3 gap-2 text-sm mb-3">
                                    <div>
                                        <strong class="block text-center">-AR</strong>
                                        <ul class="list-none text-center">
                                            <li>-é</li>
                                            <li>-aste</li>
                                            <li>-ó</li>
                                            <li>-amos</li>
                                            <li>-asteis</li>
                                            <li>-aron</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <strong class="block text-center">-ER</strong>
                                        <ul class="list-none text-center">
                                            <li>-í</li>
                                            <li>-iste</li>
                                            <li>-ió</li>
                                            <li>-imos</li>
                                            <li>-isteis</li>
                                            <li>-ieron</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <strong class="block text-center">-IR</strong>
                                        <ul class="list-none text-center">
                                            <li>-í</li>
                                            <li>-iste</li>
                                            <li>-ió</li>
                                            <li>-imos</li>
                                            <li>-isteis</li>
                                            <li>-ieron</li>
                                        </ul>
                                    </div>
                                </div>
                                <p class="text-sm mb-1"><strong>Irregulares Comunes:</strong></p>
                                <ul class="list-disc list-inside text-sm">
                                    <li><strong>Ser/Ir:</strong> fui, fuiste, fue...</li>
                                    <li><strong>Dar:</strong> di, diste, dio...</li>
                                    <li><strong>Ver:</strong> vi, viste, vio...</li>
                                    <li>(y muchos más con cambios de raíz)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },
            imperfecto: {
                title: "Pretérito Imperfecto (The 'Used To / Was...ing' Tense)",
                colorClass: "text-blue-600",
                timelineId: "timeline-imperfecto",
                content: `
                    <div class="md:grid md:grid-cols-2 md:gap-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">La Idea Clave: Acción Habitual o de Fondo</h3>
                            <p class="mb-4">Se usa para describir el <strong>contexto</strong>, las personas, y las acciones habituales o en progreso en el pasado. Es la "escena" o la <strong>línea ondulada azul</strong> en la línea de tiempo.</p>
                            <h4 class="font-semibold text-gray-700">Usos Principales:</h4>
                            <ul class="list-disc list-inside space-y-1 mt-2 mb-4">
                                <li>Describir lugares y personas en el pasado.</li>
                                <li>Hablar de acciones habituales (lo que "se solía hacer").</li>
                                <li>Describir acciones en desarrollo o incompletas.</li>
                                <li>Presentar el contexto de las acciones principales.</li>
                            </ul>
                            <h4 class="font-semibold text-gray-700">Ejemplos:</h4>
                            <ul class="list-none space-y-2 mt-2">
                                <li class="italic">"...porque <strong class="text-blue-600">explicaba</strong> con pasión."</li>
                                <li class="italic">"De joven mi amigo Carlos <strong class="text-blue-600">era</strong> alto y <strong class="text-blue-600">llevaba</strong> bigote."</li>
                                <li class="italic">"Frecuentemente, <strong class="text-blue-600">ayudaba</strong> con tareas familiares."</li>
                                <li class="italic">"Cuando <strong class="text-red-600">estalló</strong> la guerra, Juana <strong class="text-blue-600">ejercía</strong> como doctora."</li>
                            </ul>
                        </div>
                        <div class="space-y-6 mt-6 md:mt-0">
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700">Marcadores de Tiempo (Trigger Words):</h4>
                                <ul class="list-disc list-inside space-y-1 mt-2 text-sm">
                                    <li>frecuentemente, a veces</li>
                                    <li>(casi) siempre, (casi) nunca</li>
                                    <li>todos los días / meses / años</li>
                                    <li>mientras (tanto)</li>
                                    <li>de pequeño/a, de niño/a</li>
                                    <li>en aquella época</li>
                                    <li>a medida que</li>
                                </ul>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700 mb-2">Guía de Conjugación</h4>
                                <p class="text-sm mb-2"><strong>Regulares:</strong></p>
                                <div class="grid grid-cols-2 gap-2 text-sm mb-3">
                                    <div>
                                        <strong class="block text-center">-AR</strong>
                                        <ul class="list-none text-center">
                                            <li>-aba</li>
                                            <li>-abas</li>
                                            <li>-aba</li>
                                            <li>-ábamos</li>
                                            <li>-abais</li>
                                            <li>-aban</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <strong class="block text-center">-ER / -IR</strong>
                                        <ul class="list-none text-center">
                                            <li>-ía</li>
                                            <li>-ías</li>
                                            <li>-ía</li>
                                            <li>-íamos</li>
                                            <li>-íais</li>
                                            <li>-ían</li>
                                        </ul>
                                    </div>
                                </div>
                                <p class="text-sm mb-1"><strong>¡Solo 3 Irregulares!</strong></p>
                                <ul class="list-disc list-inside text-sm">
                                    <li><strong>Ser:</strong> era, eras, era...</li>
                                    <li><strong>Ir:</strong> iba, ibas, iba...</li>
                                    <li><strong>Ver:</strong> veía, veías, veía...</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },
            compuesto: {
                title: "Pretérito Perfecto Compuesto (The 'Have Done' Tense)",
                colorClass: "text-emerald-600",
                timelineId: "timeline-compuesto",
                content: `
                    <div class="md:grid md:grid-cols-2 md:gap-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">La Idea Clave: Pasado Conectado al Presente</h3>
                            <p class="mb-4">Se usa para hablar de experiencias pasadas o acciones que ocurrieron en un <strong>periodo de tiempo que aún no ha terminado</strong>. Es el <strong>corchete verde [</strong> que toca el "AHORA".</p>
                            <h4 class="font-semibold text-gray-700">Usos Principales:</h4>
                            <ul class="list-disc list-inside space-y-1 mt-2 mb-4">
                                <li>Hablar de sucesos pasados en relación con el presente.</li>
                                <li>Hablar de experiencias de vida ("hasta ahora").</li>
                            </ul>
                            <h4 class="font-semibold text-gray-700">Ejemplos:</h4>
                            <ul class="list-none space-y-2 mt-2">
                                <li class="italic">"Sin duda, ella es quien me <strong class="text-emerald-600">ha enseñado</strong> a valorar la educación."</li>
                                <li class="italic">"A lo largo de mi vida <strong class="text-emerald-600">he leído</strong> muchos libros..."</li>
                                <li class="italic">"¿<strong class="text-emerald-600">Has ido</strong> este año a alguna exposición?"</li>
                            </ul>
                        </div>
                        <div class="space-y-6 mt-6 md:mt-0">
                            <div class="bg-emerald-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700">Marcadores de Tiempo (Trigger Words):</h4>
                                <ul class="list-disc list-inside space-y-1 mt-2 text-sm">
                                    <li>hoy, esta mañana</li>
                                    <li>esta tarde, esta semana</li>
                                    <li>este mes, este año</li>
                                    <li>en mi vida</li>
                                    <li>ya, todavía</li>
                                    <li>alguna vez, nunca</li>
                                    <li>hasta ahora</li>
                                </ul>
                            </div>
                            <div class="bg-emerald-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700 mb-2">Guía de Conjugación</h4>
                                <p class="text-sm mb-2"><strong>Fórmula:</strong></p>
                                <p class="text-sm text-center font-semibold mb-2">HABER (presente) + Participio</p>
                                <div class="grid grid-cols-2 gap-4 text-sm mb-3">
                                    <div>
                                        <strong class="block">HABER:</strong>
                                        <ul class="list-none">
                                            <li>(yo) he</li>
                                            <li>(tú) has</li>
                                            <li>(él) ha</li>
                                            <li>(nos) hemos</li>
                                            <li>(vos) habéis</li>
                                            <li>(ellos) han</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <strong class="block">Participio:</strong>
                                        <ul class="list-none">
                                            <li>-AR &rarr; <strong>-ado</strong> (hablado)</li>
                                            <li>-ER &rarr; <strong>-ido</strong> (comido)</li>
                                            <li>-IR &rarr; <strong>-ido</strong> (vivido)</li>
                                        </ul>
                                    </div>
                                </div>
                                <p class="text-sm mb-1"><strong>Irregulares (Participio):</strong></p>
                                <ul class="list-disc list-inside text-sm">
                                    <li>abrir &rarr; abierto</li>
                                    <li>decir &rarr; dicho</li>
                                    <li>hacer &rarr; hecho</li>
                                    <li>escribir &rarr; escrito</li>
                                    <li>ver &v; visto</li>
                                    <li>romper &rarr; roto</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },
            pluscuam: {
                title: "Pretérito Pluscuamperfecto (The 'Had Done' Tense)",
                colorClass: "text-violet-600",
                timelineId: "timeline-pluscuam",
                content: `
                    <div class="md:grid md:grid-cols-2 md:gap-6">
                        <div>
                            <h3 class="text-xl font-semibold mb-3">La Idea Clave: El Pasado del Pasado</h3>
                            <p class="mb-4">Se forma con <strong>haber (en imperfecto) + participio</strong>. Se usa para hablar de una acción terminada que ocurrió <strong>antes de otra acción</strong> en el pasado. Es el <strong>marcador violeta (•)</strong>, que ocurre antes que el marcador rojo.</p>
                            <h4 class="font-semibold text-gray-700">Usos Principales:</h4>
                            <ul class="list-disc list-inside space-y-1 mt-2 mb-4">
                                <li>Hablar de acciones terminadas en un momento anterior a otro momento del pasado.</li>
                            </ul>
                            <h4 class="font-semibold text-gray-700">Ejemplos:</h4>
                            <ul class="list-none space-y-2 mt-2">
                                <li class="italic">"Antes de conocerla, nunca nadie me <strong class="text-violet-600">había inspirado</strong> tanto."</li>
                                <li class="italic">"Cuando Sebastián <strong class="text-red-600">llegó</strong> a la clase, la maestra ya <strong class="text-violet-600">había tomado</strong> la asistencia."</li>
                            </ul>
                        </div>
                        <div class="space-y-6 mt-6 md:mt-0">
                            <div class="bg-violet-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700">Marcadores de Tiempo (Trigger Words):</h4>
                                <ul class="list-disc list-inside space-y-1 mt-2 text-sm">
                                    <li>ya</li>
                                    <li>antes de (que)</li>
                                    <li>(A menudo se usa en combinación con un verbo en pretérito simple)</li>
                                </ul>
                            </div>
                            <div class="bg-violet-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-700 mb-2">Guía de Conjugación</h4>
                                <p class="text-sm mb-2"><strong>Fórmula:</strong></p>
                                <p class="text-sm text-center font-semibold mb-2">HABER (imperfecto) + Participio</p>
                                <div class="grid grid-cols-2 gap-4 text-sm mb-3">
                                    <div>
                                        <strong class="block">HABER:</strong>
                                        <ul class="list-none">
                                            <li>(yo) había</li>
                                            <li>(tú) habías</li>
                                            <li>(él) había</li>
                                            <li>(nos) habíamos</li>
                                            <li>(vos) habíais</li>
                                            <li>(ellos) habían</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <strong class="block">Participio:</strong>
                                        <ul class="list-none">
                                            <li>-AR &rarr; <strong>-ado</strong></li>
                                            <li>-ER &rarr; <strong>-ido</strong></li>
                                            <li>-IR &rarr; <strong>-ido</strong></li>
                                            <li class="italic mt-2">(¡Igual que el perf. compuesto!)</li>
                                        </ul>
                                    </div>
                                </div>
                                <p class="text-sm mb-1"><strong>Irregulares (Participio):</strong></p>
                                <ul class="list-disc list-inside text-sm">
                                    <li>abierto, dicho, hecho, escrito, visto, roto, puesto, muerto...</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            }
        };

        // Function to show the selected tense
        function showTense(tenseName) {
            const data = tenseData[tenseName];
            
            // 1. Deactivate all buttons and timeline elements
            document.querySelectorAll('.tense-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.content-card').forEach(card => card.classList.remove('active'));
            document.querySelectorAll('.timeline-marker, .timeline-wave, .timeline-bracket').forEach(el => el.classList.remove('active'));

            // 2. Activate the clicked button
            document.getElementById(`btn-${tenseName}`).classList.add('active');

            // 3. Activate the corresponding timeline element
            document.getElementById(data.timelineId).classList.add('active');
            
            // 4. Find the correct content card and update it
            const contentCard = document.getElementById(`content-${tenseName}`);
            let contentHTML = `<h2 class="text-2xl font-bold mb-4 ${data.colorClass}">${data.title}</h2>`;
            contentHTML += data.content;
            
            contentCard.innerHTML = contentHTML;
            contentCard.classList.add('active');
        }

        // Initialize the page with the first tense
        window.onload = () => {
            showTense('simple');
        };
    </script>
</body>
</html>
